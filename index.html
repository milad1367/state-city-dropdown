<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</head>
<body>

<h2>state city drop down for iran</h2>

<select id="province" class="form-control selectpicker" onchange="" name="province_id">
	<option>استان خود را انتخاب کنید</option>
</select>
<select id="city" class="form-control selectpicker" onchange="" name="province_id">
	<option>شهر خود را انتخاب کنید</option>
</select>

<script>
var Citys=[];
window.onload = function () {
    var province = document.getElementById("#province"),
        city = document.getElementById("#city");

 }       
$.getJSON( "province.json", function( provinces ) {
    $.each(provinces.RECORDS,function(i,item){
	$('#province').append($('<option>',{
		value: item.id,
		text:  item.name
	})
	)
});
});
    $.getJSON( "city.json", function( citys ) {
   
     Citys = citys.RECORDS ;
});

$('#province').on('change', function() {
	city.length = 1 ;
	var a = parseInt(this.value);
    var currentCitys = Citys.filter(function(item){
    return item.province == a;
});
if(currentCitys.length){
	$.each(currentCitys,function(i,item){   	
    city.options[city.options.length] = new Option(item.name, item.name);
});
}  
});


</script>
</body>
</html>
